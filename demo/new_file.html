<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
//				var a=1;
//				function fn1(){
//					var b=2;
//					function fn3(){
//						var c= a+b;
//						return c;
//					}
//				return fn3();
//				}
//				console .log(fn1())
//				var obj = {};
//				var arr = [];
//				console.log(obj instanceof Object)
//				console.log(arr instanceof Array)
//				console.log(obj.constructor === Object)
//				console.log(arr.constructor === Array)
				(function(){
					var a=b=3;  // b=1 var a=b;  b是全局变量在外面可以访问的到，而a是局部变量，访问不到
				})();
				console.log(b )
				var arr = "john".split('')
				console.log(arr)
				
				function clone(obj) {
				    //判断是对象，就进行循环复制
				    if (typeof obj === 'object' && typeof obj !== 'null') {
				        // 区分是数组还是对象，创建空的数组或对象
				        var o = Object.prototype.toString.call(obj).slice(8, -1) === "Array" ? [] : {};
				        for (var k in obj) {
				            // 如果属性对应的值为对象，则递归复制
				            if(typeof obj[k] === 'object' && typeof obj[k] !== 'null'){
				                o[k] = clone(obj[k])
				            }else{
				                o[k] = obj[k];
				            }
				        }
				    }else{ //不为对象，直接把值返回
				        return obj;
				    }
				    return o;
				}
				
				var o ={
					a:1,b:2
				}
				var c = clone(o)
				o.a=3;
				console.log(c)
				
				
				
			var test = 2;
			console.log("test is a Number--" + (test.constructor == Number));
			console.info("test instanceof Array--" + (test instanceof Array));
			
			var data = [
			    {
			        area: '深圳',
			        percentage: 15,
			        number: 80,
			        staytime: 2
			    },
			    {
			        area: '北京',
			        percentage: 30,
			        number: 150,
			        staytime: 4
			    },
			    {
			        area: '广州',
			        percentage: 25,
			        number: 60,
			        staytime: 3
			    },
			    {
			        area: '上海',
			        percentage: 30,
			        number: 100,
			        staytime: 4
			    }
			];
			
			/*
			* 根据指定的字段和规则排序数据
			* data Array 要排序的数据
			* field string 排序依据的字段
			* rule string 排序规则 DESC / ASC
			* throw 
			*       data is invalid : 要排序的数据不存在或类型不正确
			*       field is invalid : 排序参考字段不存在
			* return Array 排序后的数据
			*/
			function mySort(data, field, rule) {
			    if (!(data instanceof Array)) {
			        throw new TypeError('data is invalid');
			    }
			    if ( !(field in data[0]) ) {
			        throw new RangeError('field is invalid');
			    }
			    if ( !rule || ['DESC','ASC'].indexOf( (rule = rule.toString().toUpperCase()) ) == -1 ) {
			        rule = 'DESC';
			    }
			    
			    data.sort(function(a, b) {
			        var v = a[field] - b[field];
			        return rule == 'ASC' ? v : -v;
			    });
			}
			
			mySort(data, 'number', 'desc');
			console.dir( data );

		</script>
	</body>
</html>
